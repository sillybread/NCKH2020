(this.webpackJsonp3dchart=this.webpackJsonp3dchart||[]).push([[0],{22:function(e,t,n){e.exports=n(47)},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var i=n(6),a=n.n(i),s=n(19),r=n.n(s),o=(n(27),n(28),n(0)),c=n(3),h=n(1),l=n(2),u=n(7),d=n(20),p=n.n(d),v=(n(29),n(21)),w=n.n(v),f=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={aMap:[],sSliceAxis:"x",iSliceLevel:0,bg_color:11206570},e.aMesh=[],e.X=parseInt(e.props.X),e.Y=parseInt(e.props.Y),e.Z=parseInt(e.props.Z),e.size=e.X*e.Y*e.Z,e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=new u.Scene;this.scene=e,e.background=new u.Color(this.state.bg_color);var t=new u.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1,1e3);t.up.set(0,0,1),t.position.set(30,30,30);var n=new u.WebGLRenderer;n.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(n.domElement);var i=new p.a(t,n.domElement);i.enableDamping=!0,i.dampingFactor=.05,i.screenSpacePanning=!1,i.minDistance=10,i.maxDistance=30,i.maxPolarAngle=Math.PI;var a=new u.AxesHelper(30);e.add(a),window.addEventListener("resize",(function(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}),!1);for(var s=0;s<this.size;s++){var r=new u.BoxGeometry(1,1,1),o=new u.MeshBasicMaterial,c=new u.Mesh(r,o);this.scene.add(c);var h=this.i2p(s);c.position.set(h.x,h.y,h.z),r.dispose(),o.dispose(),c.visible=!1,this.aMesh.push(c)}var l=this;!function e(){w.a.get(l.props.src).then((function(e){l.setState({aMap:e.data.data})})),setTimeout(e,1e3)}();!function a(){requestAnimationFrame(a),i.update(),n.render(e,t)}()}},{key:"i2p",value:function(e){var t=e%this.X,n=Math.trunc(e/this.X);return{x:t,y:n%this.Y,z:Math.trunc(n/this.Y)%this.Z}}},{key:"p2i",value:function(e,t,n){return e+t*this.X+n*this.Y*this.X}},{key:"updateCube",value:function(e,t){var n=256-256*(t+55)/180;this.aMesh[e].material.color.set("hsl("+n+",100%,50%)")}},{key:"componentDidUpdate",value:function(){if(this.scene.background.setHex=this.state.bg_color,this.state.aMap.length===this.size)for(var e=0;e<this.size;e++){if(this.state.iSliceLevel>0){var t=this.state.sSliceAxis.toLowerCase(),n=this[t.toUpperCase()]-this.state.iSliceLevel;if(this.i2p(e)[t]>=n){this.aMesh[e].visible=!1;continue}}this.updateCube(e,this.state.aMap[e]),this.aMesh[e].visible=!0}}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:{width:0,height:0},ref:function(t){e.container=t}})}}]),n}(i.Component);function m(){return a.a.createElement("div",null,a.a.createElement(f,{X:"10",Y:"10",Z:"10",src:"http://localhost:5000/",ref:function(e){e.setState({sSliceAxis:"x",iSliceLevel:2})}}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.2a40127d.chunk.js.map