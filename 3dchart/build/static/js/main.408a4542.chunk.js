(this.webpackJsonp3dchart=this.webpackJsonp3dchart||[]).push([[0],{12:function(e,t,i){e.exports=i(20)},17:function(e,t,i){},18:function(e,t,i){},19:function(e,t,i){},20:function(e,t,i){"use strict";i.r(t);var n=i(6),a=i.n(n),r=i(10),o=i.n(r),s=(i(17),i(18),i(0)),c=i(3),l=i(1),h=i(2),u=i(4),d=i(11),w=i.n(d),p=(i(19),function(e){Object(l.a)(i,e);var t=Object(h.a)(i);function i(){var e;Object(s.a)(this,i);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={aMap:[],sSliceAxis:"x",iSliceLevel:0,bg_color:11206570},e.aMesh=[],e.X=parseInt(e.props.X),e.Y=parseInt(e.props.Y),e.Z=parseInt(e.props.Z),e.size=e.X*e.Y*e.Z,e}return Object(c.a)(i,[{key:"componentDidMount",value:function(){var e=new u.Scene;this.scene=e,e.background=new u.Color(this.state.bg_color);var t=new u.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1,1e3);t.up.set(0,0,1),t.position.set(10,10,10);var i=new u.WebGLRenderer;i.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(i.domElement);var n=new w.a(t,i.domElement);n.enableDamping=!0,n.dampingFactor=.05,n.screenSpacePanning=!1,n.minDistance=30,n.maxDistance=50,n.maxPolarAngle=Math.PI;var a=new u.AxesHelper(7749);e.add(a),window.addEventListener("resize",(function(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)}),!1),this.doStuff(e);!function a(){requestAnimationFrame(a),n.update(),i.render(e,t)}()}},{key:"doStuff",value:function(e){for(var t={x:40,y:40,z:40,get X(){return this.x*this.tileSize},get Y(){return this.y*this.tileSize},get Z(){return this.z*this.tileSize},tileSize:1},i=new Array(6),n=0;n<6;n++)i[n]=o(t,n),a(i[n]),e.add(i[n]);function a(e){console.log(r(0,10,20));for(var t=0,i=e.geometry.faces.length/2,n=0;n<i;n++)t=r(0,i,n),e.geometry.faces[2*n].color.set(t),e.geometry.faces[2*n+1].color.set(t);e.geometry.elementsNeedUpdate=!0}function r(e,t,i){var n=256-256*(i+e)/(t-e);return"hsl("+(n=Math.floor(n))+",100%,50%)"}function o(e,t){var i,n,a,r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(t){case 0:i=e.x,n=e.z,a=new u.Vector3(3*Math.PI/2,0,0),r=new u.Vector3(i*e.tileSize/2,0,n*e.tileSize/2);break;case 1:i=e.x,n=e.z,a=new u.Vector3(Math.PI/2,0,0),r=new u.Vector3(i*e.tileSize/2,e.y*e.tileSize,n*e.tileSize/2);break;case 2:i=e.y,n=e.z,a=new u.Vector3(Math.PI/2,Math.PI/2,0),r=new u.Vector3(0,i*e.tileSize/2,n*e.tileSize/2);break;case 3:i=e.y,n=e.z,a=new u.Vector3(3*Math.PI/2,Math.PI/2,0),r=new u.Vector3(e.x*e.tileSize,i*e.tileSize/2,n*e.tileSize/2);break;case 4:i=e.x,n=e.y,a=new u.Vector3(0,0,0),r=new u.Vector3(i*e.tileSize/2,n*e.tileSize/2,0);break;case 5:i=e.x,n=e.y,a=new u.Vector3(Math.PI,0,0),r=new u.Vector3(i*e.tileSize/2,n*e.tileSize/2,e.z*e.tileSize)}var s=new u.PlaneGeometry(i*e.tileSize,n*e.tileSize,i,n),c=new u.MeshBasicMaterial({vertexColors:u.FaceColors,side:u.DoubleSide}),l=new u.Mesh(s,c);if(l.rotation.setFromVector3(a),l.position.copy(r),o){var h=new u.WireframeGeometry(s),d=new u.LineBasicMaterial({color:0}),w=new u.LineSegments(h,d);l.add(w)}return l}}},{key:"i2p",value:function(e){var t=e%this.X,i=Math.trunc(e/this.X);return{x:t,y:i%this.Y,z:Math.trunc(i/this.Y)%this.Z}}},{key:"p2i",value:function(e,t,i){return e+t*this.X+i*this.Y*this.X}},{key:"updateCube",value:function(e,t){if(!this.handleHide(e)){var i=256-256*(t+55)/180;this.aMesh[e].material.color.set("hsl("+i+",100%,50%)"),this.aMesh[e].visible=!0}}},{key:"handleHide",value:function(e){var t,i=this.state.iSliceLevel,n=this.i2p(e)[this.state.sSliceAxis.toLowerCase()],a=this[this.state.sSliceAxis.toUpperCase()]-i;return(i>0&&n>=a||(t=this.i2p(e)).x>0&&t.y>0&&t.z>0)&&(this.aMesh[e].visible=!1,!0)}},{key:"componentDidUpdate",value:function(){if(this.scene.background.setHex(this.state.bg_color),this.state.aMap.length===this.size)for(var e=0;e<this.size;e++)this.updateCube(e,this.state.aMap[e])}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement("div",{className:"chartContainer",ref:function(t){e.container=t}}))}}]),i}(n.Component));function f(){return a.a.createElement("div",null,a.a.createElement(p,{ref:function(e){e.setState({bg_color:16777215})}}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.408a4542.chunk.js.map