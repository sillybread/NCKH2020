(this["webpackJsonpshreyu-react"]=this["webpackJsonpshreyu-react"]||[]).push([[28],{303:function(e,n,a){"use strict";var t=a(44),o=a(45),i=a(46),c=a(47),s=a(0),r=a.n(s),l=a(48),m=a(20),u=a(37),d=a(136),p=a.n(d),f=a(304),b=a.n(f),h=a(30),v=function e(n){var a=n.item,t=n.linkClassNames,o=n.subMenuClassNames,i=n.activatedMenuItemIds,c=a.icon||null;return r.a.createElement("li",{className:p()("side-nav-item",{"active mm-active":i.indexOf(a.id)>=0})},r.a.createElement(l.b,{to:"/",className:p()("side-sub-nav-link",t),"aria-expanded":i.indexOf(a.id)>=0},a.icon&&r.a.createElement(c,null),a.badge&&r.a.createElement("span",{className:"badge badge-".concat(a.badge.variant," float-right")},a.badge.text),r.a.createElement("span",null," ",a.name," "),r.a.createElement("span",{className:"menu-arrow"})),r.a.createElement("ul",{className:p()(o,{"mm-collapse mm-show":i.indexOf(a.id)>=0}),"aria-expanded":i.indexOf(a.id)>=0},a.children.map((function(n,a){return r.a.createElement(r.a.Fragment,{key:a},n.children?r.a.createElement(e,{item:n,linkClassNames:p()({active:i.indexOf(n.id)>=0}),activatedMenuItemIds:i,subMenuClassNames:"side-nav-third-level"}):r.a.createElement(g,{item:n,className:p()({active:i.indexOf(n.id)>=0}),linkClassName:p()({active:i.indexOf(n.id)>=0})}))}))))},g=function(e){var n=e.item,a=e.className,t=e.linkClassName;return r.a.createElement("li",{className:p()("side-nav-item",a)},r.a.createElement(E,{item:n,className:t}))},E=function(e){var n=e.item,a=e.className,t=n.icon||null;return r.a.createElement(l.b,{to:n.path,className:p()("side-nav-link-ref","side-sub-nav-link",a)},n.icon&&r.a.createElement(t,null),n.badge&&r.a.createElement("span",{className:"font-size-12 badge badge-".concat(n.badge.variant," float-right")},n.badge.text),r.a.createElement("span",null," ",n.name," "))},N=function(e){Object(i.a)(a,e);var n=Object(c.a)(a);function a(){var e;Object(t.a)(this,a);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).componentDidMount=function(){e.props.menu.menuItems?e.initMenu():e.props.initMenu(),e.props.history.listen((function(n,a){e.props.changeActiveMenuFromLocation()}))},e.componentDidUpdate=function(n){(!n.menu.menuItems||n.menu.menuItems&&n.menu.menuItems!==e.props.menu.menuItems)&&e.initMenu(),e.props.menu.activatedMenuItemIds||e.props.changeActiveMenuFromLocation()},e}return Object(o.a)(a,[{key:"initMenu",value:function(){if("horizontal"===this.props.mode)var e=new b.a("#menu-bar").on("shown.metisMenu",(function(n){window.addEventListener("click",(function a(t){n.target.contains(t.target)||(e.hide(n.detail.shownElement),window.removeEventListener("click",a))}))}));else new b.a("#menu-bar")}},{key:"render",value:function(){var e=this,n="horizontal"===this.props.mode,a=n?[]:this.props.menu?this.props.menu.activatedMenuItemIds?this.props.menu.activatedMenuItemIds:[]:[]||!1;return r.a.createElement(r.a.Fragment,null,this.props.menu&&this.props.menu.menuItems&&r.a.createElement("ul",{className:"metismenu",id:"menu-bar"},this.props.menu.menuItems.map((function(t,o){if(e.props.RoomList.currentRoom&&t.roles.includes(e.props.RoomList.currentRoom.role))return r.a.createElement(r.a.Fragment,{key:t.id},t.header&&!n&&r.a.createElement("li",{className:"menu-title",key:o+"-el"},t.header),t.children?r.a.createElement(v,{item:t,subMenuClassNames:"nav-second-level",activatedMenuItemIds:a,linkClassNames:"side-nav-link"}):r.a.createElement(g,{item:t,className:p()({"mm-active":a.indexOf(t.id)>=0}),linkClassName:"side-nav-link"}))}))))}}]),a}(s.Component);N.defaultProps={mode:"vertical"};n.a=Object(m.g)(Object(u.b)((function(e){return{menu:e.AppMenu,RoomList:e.RoomList}}),{initMenu:h.C,changeActiveMenuFromLocation:h.c})(N))},305:function(e,n){n.showNotification=function(e,n){new Notification(e,{body:n,icon:"http://vikhan.tk/assets/img/logo1.png",dir:"ltr",timestamp:3e3})}},626:function(e,n,a){"use strict";a.r(n);var t=a(44),o=a(45),i=a(64),c=a(46),s=a(47),r=a(0),l=a.n(r),m=a(48),u=a(37),d=a(589),p=a(238),f=a.n(p),b=(a(172),a(280)),h=a(399),v=a(341),g=a(340),E=a(292),N=a(237),k=a(286),O=a(621),w=a(303),C=a(30),j=a(69),M=a(33),y=a(305),I=function(e,n,a,t){e.on("connect",(function(){console.log("Socket io Client","connect"),e.emit("login",a.accessToken)})),e.on("data_cube_room",(function(e){var a=Object(M.a)();a&&a.room._id===e.room&&n(Object(C.s)(e)),console.log("Socket io Client Cube",e)})),e.on("data_room",(function(e){var t=Object(M.a)();t&&t.room._id===e.room&&(n(Object(C.z)(a,e.room)),n(Object(C.u)(e))),console.log("Socket io Client Curent Data",e)})),e.on("log",(function(e){console.log("Socket io Client Log",e)})),e.on("data_area",(function(e){var a=Object(M.a)();a&&a.room._id===e.room&&n(Object(C.q)(e)),console.log("Socket io Client Area",e)})),e.on("notification",(function(e){"add"==e.message&&(n(Object(C.H)(e.data)),"granted"==Notification.permission?Object(y.showNotification)("Qu\u1ea3n l\xfd nhi\u1ec7t \u0111\u1ed9 kho l\u1ea1nh",e.data.content):t(e.data.content,{appearance:"warning",autoDismiss:!0})),"update"==e.message&&n(Object(C.N)(e.data._id,e.data))})),e.on("access",(function(n){console.log("Socket io Client",n),"add"==n.message&&(e.emit("join-room","room"+n.data.access.room),"granted"==Notification.permission?Object(y.showNotification)("Qu\u1ea3n l\xfd nhi\u1ec7t \u0111\u1ed9 kho l\u1ea1nh",n.data.content):t(n.data.content,{appearance:"warning",autoDismiss:!0})),n.message,"delete"==n.message&&n.data.access.user==a.user._id&&e.emit("leave-room","room"+n.data.access.room)})),e.on("room",(function(e){})),e.on("disconnect",(function(){}))},x=a(87).BASE_URL,L=a(591),_=function(e){var n=Object(u.c)(),a=Object(j.useToasts)().addToast;return l.a.useEffect((function(){if(e.user&&e.user.accessToken){n(Object(C.x)(e.user)),n(Object(C.w)(e.user));var t=L.connect(x);console.log("Socket io Client","run socket client"),I(t,n,e.user,a)}}),[e.user]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"media user-profile mt-2 mb-2"},l.a.createElement("img",{src:e.user.user.avatar,className:"avatar-sm rounded-circle mr-2",alt:e.user.user.username}),l.a.createElement("img",{src:e.user.user.avatar,className:"avatar-xs rounded-circle mr-2",alt:e.user.user.username}),l.a.createElement("div",{className:"media-body"},l.a.createElement("h6",{className:"pro-user-name mt-0 mb-0"},e.user.user.fullname),l.a.createElement("span",{className:"pro-user-desc"},e.user.user.username)),l.a.createElement(b.a,{className:"align-self-center profile-dropdown-menu"},l.a.createElement(h.a,{"data-toggle":"dropdown",tag:"button",className:"btn btn-link p-0 dropdown-toggle mr-0"},l.a.createElement(E.a,null)),l.a.createElement(v.a,{right:!0,className:"topbar-dropdown-menu profile-dropdown-items"},l.a.createElement(m.b,{to:"/account/info",className:"dropdown-item notify-item"},l.a.createElement(N.a,{className:"icon-dual icon-xs mr-2"}),l.a.createElement("span",null,"T\xe0i kho\u1ea3n")),l.a.createElement(m.b,{to:"/account/lock",className:"dropdown-item notify-item"},l.a.createElement(k.a,{className:"icon-dual icon-xs mr-2"}),l.a.createElement("span",null,"Kh\xf3a m\xe0n h\xecnh")),l.a.createElement(g.a,{divider:!0}),l.a.createElement(m.b,{to:"/account/logout",className:"dropdown-item notify-item"},l.a.createElement(O.a,{className:"icon-dual icon-xs mr-2"}),l.a.createElement("span",null,"\u0110\u0103ng xu\u1ea5t"))))))},R=function(){return l.a.createElement("div",{className:"sidebar-content"},l.a.createElement("div",{id:"sidebar-menu"},l.a.createElement(w.a,null)))},A=function(e){Object(c.a)(a,e);var n=Object(s.a)(a);function a(e){var o;return Object(t.a)(this,a),(o=n.call(this,e)).componentDidMount=function(){document.addEventListener("mousedown",o.handleOtherClick,!1)},o.componentWillUnmount=function(){document.removeEventListener("mousedown",o.handleOtherClick,!1)},o.handleOtherClick=function(e){o.menuNodeRef.contains(e.target)||document.body&&d.isMobileOnly&&document.body.classList.remove("sidebar-enable")},o.handleClick=o.handleClick.bind(Object(i.a)(o)),o.handleOtherClick=o.handleOtherClick.bind(Object(i.a)(o)),o}return Object(o.a)(a,[{key:"handleClick",value:function(e){console.log(e)}},{key:"render",value:function(){var e=this,n=this.props.isCondensed||!1;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"left-side-menu",ref:function(n){return e.menuNodeRef=n}},l.a.createElement(_,this.props),!n&&l.a.createElement(f.a,null,l.a.createElement(R,null)),n&&l.a.createElement(R,null)))}}]),a}(r.Component);n.default=Object(u.b)((function(e){var n=e.Auth;return{user:n.user,loading:n.loading,error:n.error}}),{})(A)}}]);
//# sourceMappingURL=28.c6e4aee4.chunk.js.map