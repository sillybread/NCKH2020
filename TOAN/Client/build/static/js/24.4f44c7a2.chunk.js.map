{"version":3,"sources":["helpers/datetimeCover.js","components/3DChart/perfectChart.js","components/3DChart/3DChart.js","pages/status/AreasChart.js","components/HueBar.js","components/MySlice.js","pages/status/BoxChart.js","components/matrix/matrix.js","pages/status/MatrixChart.js","pages/status/TabsChart.js","pages/status/index.js"],"names":["dateToString","data","date","Date","getHours","getMinutes","getSeconds","getDate","getMonth","getFullYear","timeToString","perfectChart","container","this","config","slice","limit","scene","camera","renderer","cubeFrame","axesHelper","vOrigin","origin","vDes","destination","x","y","z","sz","size","max","a","b","min","ix","iy","iz","idx","Math","abs","idy","idz","ix0","iy0","iz0","ix1","iy1","iz1","isFront","iCount","i1st0","i1st1","i2nd0","i2nd1","iOrder","iExtreme","ii","jj","setTileColor","values","children","geometry","colorsNeedUpdate","faceOrder","i","value","iMin","hue","currFace","faces","color","setHSL","e","THREE","background","t","clientWidth","clientHeight","up","set","position","setSize","n","OrbitControls","domElement","enableDamping","dampingFactor","screenSpacePanning","minDistance","maxDistance","maxPolarAngle","PI","rotateSpeed","s","tilesize","add","animate","requestAnimationFrame","update","render","controls","innerHTML","appendChild","door","show","A","x0","y0","z0","x1","y1","z1","B","C","D","direction","r","o","c","l","normalize","linewidth","push","setFromPoints","target","document","createElement","getContext","width","height","font","fillStyle","textAlign","fillText","needsUpdate","map","scale","String","list","forEach","sx","sy","hsx","hsy","hsz","vertexColors","side","h","copy","rotation","setFromVector3","remove","console","log","updateFaceAB","updateFaceCD","updateFaceEF","TChart","props","useRef","chart","useEffect","current","setConfig","initWorld","makeDoor","makeWireFrame","writeNumber","reCalculationLimit","makeFrame","updateChart","className","ref","self","defaultProps","require","AreasChart","apexAreaChart2Opts","id","stacked","events","selection","xaxis","dataLabels","enabled","stroke","curve","fill","gradient","opacityFrom","opacityTo","legend","horizontalAlign","itemMargin","horizontal","vertical","type","yaxis","labels","formatter","grid","row","colors","opacity","borderColor","responsive","breakpoint","options","toolbar","areaData","useSelector","state","RoomData","length","areas","areaT","index","name","time","average","React","useState","crData","setCrData","series","hueBarHelper","eBar","eMin","innerText","round","style","eMax","ePointer","isNaN","cell","previousSelected","tagName","attribute","Object","assign","parent","tableBar","eCell","hsl","onclick","onCellClick","unshift","pre","hue2temp","toFixed","saturation","lightness","temp","trunc","HueBar","setElement","helper","markCell","bind","updateExtreme","makeTable","MySlider","createSliderWithTooltip","Slider","MySlice","setValue","label","axis","setAxis","changeValue","onChangeValue","onChangeAxis","classNamePrefix","onChange","InputGroup","InputGroupAddon","addonType","InputGroupText","Input","event","num","BoxChart","setSlice","Fragment","ax","Helper","xRuler","yRuler","onClick","rowNumber","DATA","MIN","MAX","WIDTH","onmouseenter","onMouseEnter","onmouseout","onMouseOut","table","makeRow","router","f","fkRect","getBoundingClientRect","clientX","left","clientY","top","offsetHeight","offsetWidth","display","Array","TwoDimensionalChart","setContainer","setProps","parentElement","sm","HEIGHT","onMouseOver","handleRuler","removeRuler","MatrixView","dat","setData","sLv","setLevel","inp","level","route","fast","slow","ret","flatRet","iFast","iSlow","iImmutable","threeToTwo","v","MatrixChart","TabsChart","activeTab","setActiveTab","currentRoomInfo","RoomList","cubeData","density","sensorDensity","xBlock","yBlock","zBlock","Nav","title","disabled","tab","NavItem","key","NavLink","href","classnames","active","toggle","icon","TabContent","TabPane","tabId","Status","Row","Col","xs","Card","CardBody"],"mappings":"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","file":"static/js/24.4f44c7a2.chunk.js","sourcesContent":["const dateToString = (data) => {\r\n    let date = new Date(data);\r\n    return date.getHours() + ':' + date.getMinutes() + ':' + date.getSeconds() + ' ' + \r\n    date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear();\r\n}\r\nconst timeToString = (data) => {\r\n    let date = new Date(data);\r\n    return date.getHours() + ':' + date.getMinutes() + ':' + date.getSeconds();\r\n\r\n}\r\nexport { dateToString, timeToString }","import * as THREE from 'three';\r\nimport OrbitControls from 'orbit-controls-es6';\r\n\r\nclass perfectChart {\r\n    constructor(container){\r\n        this.config = null;\r\n        this.data = null;\r\n        this.slice = null;\r\n        this.limit = null;\r\n        this.scene = null;\r\n        this.camera = null;\r\n        this.renderer = null;\r\n        this.cubeFrame = null;\r\n        this.axesHelper = null;\r\n        this.container = container;\r\n    }\r\n\r\n    setConfig(config){\r\n        this.config = config;\r\n    }\r\n    reCalculationLimit(slice){\r\n        this.slice = slice;\r\n        let vOrigin = this.slice.origin;\r\n        let vDes = this.slice.destination;\r\n        !vOrigin && (vOrigin = {\r\n            x: 0,\r\n            y: 0,\r\n            z: 0\r\n        });\r\n\r\n        let sz = this.config.size, x=sz.x, y=sz.y, z=sz.z;\r\n        !vDes && (vDes = {\r\n            x: x,\r\n            y: y,\r\n            z: z\r\n        });\r\n\r\n        const max = (a, b) => (a>b)?a:b;\r\n        const min = (a, b) => (a<b)?a:b;\r\n        this.limit = {\r\n            ix: x,\r\n            iy: y,\r\n            iz: z,\r\n            idx: Math.abs(vOrigin.x - vDes.x),\r\n            idy: Math.abs(vOrigin.y - vDes.y),\r\n            idz: Math.abs(vOrigin.z - vDes.z),\r\n            ix0: min(vOrigin.x, vDes.x),//origin\r\n            iy0: min(vOrigin.y, vDes.y),\r\n            iz0: min(vOrigin.z, vDes.z),\r\n            ix1: max(vOrigin.x, vDes.x)-1,//destination\r\n            iy1: max(vOrigin.y, vDes.y)-1,\r\n            iz1: max(vOrigin.z, vDes.z)-1\r\n        }\r\n    }\r\n    updateFaceAB(isFront) {\r\n        //xzy\r\n        let iCount = 0;\r\n        let size = this.limit;//t = this.limit\r\n        let i1st0 = size.ix0;\r\n        let i1st1 = size.ix1;\r\n        let i2nd0 = size.iz0;\r\n        let i2nd1 = size.iz1;\r\n        let iOrder = (isFront)?0:1;\r\n        let iExtreme = size[\"iy\" + (isFront ? \"0\" : \"1\")];\r\n        for (let ii=i2nd0 ; ii <= i2nd1; ii++)\r\n            for (let jj=i1st0; jj <= i1st1; jj++){\r\n                this.setTileColor(iOrder, iCount, this.data.values[jj][iExtreme][ii]);\r\n                iCount++;\r\n            }\r\n        this.cubeFrame.children[iOrder].geometry.colorsNeedUpdate = true;\r\n    }\r\n    updateFaceCD(isFront) {\r\n        //yzx\r\n        let iCount = 0;\r\n        let size = this.limit;//t = this.limit\r\n        let i1st0 = size.iy0;\r\n        let i1st1 = size.iy1;\r\n        let i2nd0 = size.iz0;\r\n        let i2nd1 = size.iz1;\r\n        let iOrder = (isFront)?2:3;\r\n        let iExtreme = size[\"ix\" + (isFront ? \"0\" : \"1\")];\r\n        for (let ii=i2nd0 ; ii <= i2nd1; ii++)\r\n            for (let jj=i1st0; jj <= i1st1; jj++){\r\n                this.setTileColor(iOrder, iCount, this.data.values[iExtreme][jj][ii]);\r\n                iCount++;\r\n            }\r\n        this.cubeFrame.children[iOrder].geometry.colorsNeedUpdate = true;\r\n    }\r\n    updateFaceEF(isFront) {\r\n        //xyz\r\n        let iCount = 0;\r\n        let size = this.limit;//t = this.limit\r\n        let i1st0 = size.ix0;\r\n        let i1st1 = size.ix1;\r\n        let i2nd0 = size.iy0;\r\n        let i2nd1 = size.iy1;\r\n        let iOrder = (isFront)?4:5;\r\n        let iExtreme = size[\"iz\" + (isFront ? \"0\" : \"1\")];\r\n        for (let ii=i2nd0 ; ii <= i2nd1; ii++)\r\n            for (let jj=i1st0; jj <= i1st1; jj++){\r\n                this.setTileColor(iOrder, iCount, this.data.values[jj][ii][iExtreme]);\r\n                iCount++;\r\n            }\r\n        this.cubeFrame.children[iOrder].geometry.colorsNeedUpdate = true;\r\n    }\r\n    setTileColor(faceOrder, i, value){\r\n        let iMin = this.data.min;\r\n        let hue = (240 - 240 * (value - iMin) / (this.data.max - iMin)) / 360;\r\n        let currFace = this.cubeFrame.children[faceOrder].geometry.faces;\r\n        currFace[2 * i].color.setHSL(hue, 1, .5);\r\n        currFace[2 * i + 1].color.setHSL(hue, 1, .5);\r\n    }\r\n    initWorld(){\r\n        //console.info(\"makeWorld\");\r\n        let e = new THREE.Scene();\r\n        e.background = new THREE.Color(15663086);\r\n        let t = new THREE.PerspectiveCamera(60,this.container.clientWidth / this.container.clientHeight,1,3e3);\r\n        t.up.set(0, 0, 1);\r\n        t.position.set(350, 350, 350);\r\n        let renderer = new THREE.WebGLRenderer();\r\n        renderer.setSize(this.container.clientWidth, this.container.clientHeight);\r\n        let n = new OrbitControls(t, renderer.domElement);\r\n        n.enableDamping = true;\r\n        n.dampingFactor = .05;\r\n        n.screenSpacePanning = false;\r\n        n.minDistance = 100;\r\n        n.maxDistance = 900;\r\n        n.maxPolarAngle = Math.PI;\r\n        n.rotateSpeed = .5;\r\n\r\n        //make axesHelper\r\n        let s = this.config.size\r\n        let axesHelper = new THREE.AxesHelper(s.tilesize * (1.7 * Math.max(s.x, s.y, s.z)));\r\n        e.add(axesHelper);\r\n\r\n        let animate = function() {\r\n            requestAnimationFrame(animate);\r\n            n.update();\r\n            renderer.render(e, t);\r\n        };\r\n        animate();\r\n        this.scene = e;\r\n        this.camera = t;\r\n        this.controls = n;\r\n        this.renderer = renderer;\r\n        this.axesHelper = axesHelper;\r\n        this.container.innerHTML = \"\";\r\n        this.container.appendChild( renderer.domElement);\r\n    }\r\n    makeDoor() {\r\n        //console.info(\"makeDoor\");\r\n        let e = this.config.door;\r\n        if (e.show && this.scene) {\r\n            let t = this.config.size\r\n              , i = {\r\n                x: t.x * t.tilesize,\r\n                y: t.y * t.tilesize,\r\n                z: t.z * t.tilesize,\r\n                e: 20 * t.tilesize\r\n            }\r\n              , n = {\r\n                A: {\r\n                    x0: i.x / 2,\r\n                    y0: -i.e,\r\n                    z0: i.z / 2,\r\n                    x1: i.x / 2,\r\n                    y1: i.y,\r\n                    z1: i.z / 2\r\n                },\r\n                B: {\r\n                    x0: i.x / 2,\r\n                    y0: i.y + i.e,\r\n                    z0: i.z / 2,\r\n                    x1: i.x / 2,\r\n                    y1: i.y,\r\n                    z1: i.z / 2\r\n                },\r\n                C: {\r\n                    x0: -i.e,\r\n                    y0: i.y / 2,\r\n                    z0: i.z / 2,\r\n                    x1: i.x,\r\n                    y1: i.y / 2,\r\n                    z1: i.z / 2\r\n                },\r\n                D: {\r\n                    x0: i.x + i.e,\r\n                    y0: i.y / 2,\r\n                    z0: i.z / 2,\r\n                    x1: i.x,\r\n                    y1: i.y / 2,\r\n                    z1: i.z / 2\r\n                }\r\n            }[e.direction]\r\n              , s = new THREE.Vector3(n.x1 - n.x0,n.y1 - n.y0,n.z1 - n.z0)\r\n              , a = new THREE.Vector3(n.x0,n.y0,n.z0)\r\n              , r = 8 * t.tilesize\r\n              , o = 2 * t.tilesize\r\n              , c = 1 * t.tilesize\r\n              , l = new THREE.ArrowHelper(s.normalize(),a,r,0,o,c);\r\n            l.up.set(0, 0, 1);\r\n            this.scene.add(l);\r\n        }\r\n    }\r\n    makeWireFrame() {\r\n        //console.info(\"makeWireFrame\");\r\n        let e = new THREE.LineBasicMaterial({\r\n            color: 0,\r\n            linewidth: 2\r\n        })\r\n          , t = this.config.size\r\n          , i = t.x * t.tilesize\r\n          , n = t.y * t.tilesize\r\n          , s = t.z * t.tilesize\r\n          , a = [];\r\n        a.push(new THREE.Vector3(0,0,0));\r\n        a.push(new THREE.Vector3(i,0,0));\r\n        a.push(new THREE.Vector3(i,n,0));\r\n        a.push(new THREE.Vector3(0,n,0));\r\n        a.push(new THREE.Vector3(0,0,0));\r\n        a.push(new THREE.Vector3(0,0,s));\r\n        a.push(new THREE.Vector3(i,0,s));\r\n        a.push(new THREE.Vector3(i,n,s));\r\n        a.push(new THREE.Vector3(0,n,s));\r\n        a.push(new THREE.Vector3(0,0,s));\r\n        let r = (new THREE.BufferGeometry()).setFromPoints(a);\r\n        (a = []).push(new THREE.Vector3(i,0,0));\r\n        a.push(new THREE.Vector3(i,0,s));\r\n        a.push(new THREE.Vector3(i,n,s));\r\n        a.push(new THREE.Vector3(i,n,0));\r\n        a.push(new THREE.Vector3(0,n,0));\r\n        a.push(new THREE.Vector3(0,n,s));\r\n        let o = (new THREE.BufferGeometry()).setFromPoints(a)\r\n          , c = new THREE.Line(r,e);\r\n        this.scene.add(c);\r\n        let l = new THREE.Line(o,e);\r\n        this.scene.add(l);\r\n\r\n        this.controls.target.set(i/2, n/2, s/2);\r\n    }\r\n    writeNumber() {\r\n        let e = this\r\n        let t = this.config.size.tilesize;\r\n        let i = (i, n, s, a) => {\r\n            let r = function(e) {\r\n                let i = document.createElement(\"canvas\")\r\n                  , n = i.getContext(\"2d\");\r\n                i.width = i.height = 2 * t;\r\n                n.font = \"Bold \" + 2 * t + \"px Roboto\";\r\n                n.fillStyle = \"#7F007F\";\r\n                n.textAlign = \"center\";\r\n                n.fillText(e, t, 1.74591293182 * t);\r\n                let s = new THREE.Texture(i);\r\n                s.needsUpdate = !0;\r\n                let a = new THREE.SpriteMaterial({\r\n                    map: s\r\n                })\r\n                  , r = new THREE.Sprite(a);\r\n                r.scale.set(i.width, i.width, i.width);\r\n                return r;\r\n            }(String(i));\r\n            r.position.set((n - .5) * t, (s - .5) * t, (a - .5) * t);\r\n            e.scene.add(r);\r\n        }\r\n        let n = this.config[\"axis-labels\"];\r\n        n[\"axis-x\"].show && n[\"axis-x\"].list.forEach((e) => i(e, e, 0, 0));\r\n        n[\"axis-y\"].show && n[\"axis-y\"].list.forEach((e) => i(e, 0, e, 0));\r\n        n[\"axis-z\"].show && n[\"axis-z\"].list.forEach((e) => i(e, 0, 0, e));\r\n    }\r\n    makeFrame() {\r\n                    let t = {...this.limit, ...this.config.size};\r\n                    t = {...t,\r\n                        sx: t.idx * t.tilesize,\r\n                        sy: t.idy * t.tilesize,\r\n                        sz: t.idz * t.tilesize\r\n                    };\r\n                    t = {...t,\r\n                        hsx: t.sx / 2,\r\n                        hsy: t.sy / 2,\r\n                        hsz: t.sz / 2\r\n                    };\r\n                    //console.info(\"make frame with size: \", t.idx, \"x\", t.idy, \"x\", t.idz);\r\n                    //this.controls.target.set(t.hsx, t.hsy, t.hsz);\r\n                    let i = [new THREE.Vector3(3 * Math.PI / 2,0,0), new THREE.Vector3(3 * Math.PI / 2,3 * Math.PI / 2,0), new THREE.Vector3(Math.PI,0,0)]\r\n                      , n = this.limit.ix0 * t.tilesize\r\n                      , s = this.limit.iy0 * t.tilesize\r\n                      , a = this.limit.iz0 * t.tilesize\r\n                      , r = [new THREE.Vector3(t.hsx + n,0 + s,t.hsz + a), new THREE.Vector3(t.hsx + n,t.sy + s,t.hsz + a), new THREE.Vector3(0 + n,t.hsy + s,t.hsz + a), new THREE.Vector3(t.sx + n,t.hsy + s,t.hsz + a), new THREE.Vector3(t.hsx + n,t.hsy + s,0 + a), new THREE.Vector3(t.hsx + n,t.hsy + s,t.sz + a)]\r\n                      , o = function(i, n, s, a) {\r\n                        let r = i[0]\r\n                          , o = i[1]\r\n                          , c = new THREE.PlaneGeometry(t[\"s\" + r],t[\"s\" + o],t[\"id\" + r],t[\"id\" + o])\r\n                          , l = new THREE.MeshBasicMaterial({\r\n                            vertexColors: THREE.FaceColors,\r\n                            side: a\r\n                        });\r\n                        let h = new THREE.Mesh(c,l);\r\n                        h.position.copy(s);\r\n                        h.rotation.setFromVector3(n);\r\n                        return h;\r\n                    }\r\n                    let l = new THREE.Object3D();\r\n                    l.add(o(\"xzy\", i[0], r[0], THREE.BackSide));\r\n                    l.add(o(\"xzy\", i[0], r[1], THREE.FrontSide));\r\n                    l.add(o(\"yzx\", i[1], r[2], THREE.FrontSide));\r\n                    l.add(o(\"yzx\", i[1], r[3], THREE.BackSide));\r\n                    l.add(o(\"xyz\", i[2], r[4], THREE.FrontSide));\r\n                    l.add(o(\"xyz\", i[2], r[5], THREE.BackSide));\r\n                    this.scene.remove(this.cubeFrame);\r\n                    this.cubeFrame = l;\r\n                    this.scene.add(l);\r\n                    return l;\r\n    }\r\n    updateChart(data) {\r\n        this.data = data;\r\n        console.log(\"updateChart\");\r\n        this.updateFaceAB(true);\r\n        this.updateFaceAB(false);\r\n        this.updateFaceCD(true);\r\n        this.updateFaceCD(false);\r\n        this.updateFaceEF(true);\r\n        this.updateFaceEF(false);\r\n    }\r\n}\r\n\r\nexport default perfectChart;","import React, {\r\n    useEffect, useRef\r\n} from 'react';\r\nimport \"./3DChart.css\";\r\nimport perfectChart from \"./perfectChart.js\"\r\n\r\nconst TChart = (props) => {\r\n    const container = useRef();\r\n    const chart = useRef();\r\n\r\n    useEffect(()=>{\r\n        chart.current = new perfectChart(container.current);\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        chart.current.setConfig(props.config);\r\n        chart.current.initWorld();\r\n        chart.current.makeDoor();\r\n        chart.current.makeWireFrame();\r\n        chart.current.writeNumber();\r\n    },[props.config]);\r\n\r\n    useEffect(()=>{\r\n        chart.current.reCalculationLimit(props.slice);\r\n        chart.current.makeFrame();\r\n        if(props.data != null)\r\n            chart.current.updateChart(props.data);\r\n    },[props.slice, props.data])\r\n\r\n    useEffect(()=>{\r\n        chart.current.updateChart(props.data);\r\n    },[props.data]);\r\n\r\n    return (\r\n        <div className=\"chartContainer\" ref={(self)=>{container.current = self}}/>\r\n    );\r\n};\r\n\r\nTChart.defaultProps = {\r\n    config: {\r\n        size: {\r\n            x: 3, y: 3, z: 3, tilesize: 25\r\n        },\r\n        door: {\r\n            show: true, direction: \"A\"\r\n        },\r\n        \"axis-labels\": {\r\n            \"axis-x\": {\r\n                \"show\": false, \"list\": [0, 5, 12, 19]\r\n            },\r\n            \"axis-y\": {\r\n                \"show\": false, \"list\": [2, 6]\r\n            },\r\n            \"axis-z\": {\r\n                \"show\": false, \"list\": [5, 9]\r\n            }\r\n        }\r\n    },\r\n    slice: {\r\n        origin: null, destination: null\r\n    },\r\n    data: {\t\"values\":\r\n\t    [[\r\n\t    \t[0, 1, 2],\r\n\t    \t[3, 4, 5],\r\n\t    \t[6, 7, 8],\r\n\t    ],\r\n\t    [\r\n\t    \t[6, 7, 8],\r\n            [0, 1, 2],\r\n\t    \t[3, 4, 5],\r\n\t    ],\r\n\t    [\r\n\t    \t[0, 1, 2],\r\n\t    \t[6, 7, 8],\r\n\t    \t[3, 4, 5],\r\n\t    ]],\r\n\t    \"min\": 0,\r\n        \"max\": 8\r\n    }\r\n}\r\n\r\nexport default TChart;","// @flow\r\nimport React from 'react';\r\nimport Chart from 'react-apexcharts';\r\nimport { useSelector } from 'react-redux';\r\nconst { timeToString } = require('helpers/datetimeCover')\r\n// StackedAreaChart\r\n\r\nconst AreasChart = (props) => {\r\n    const apexAreaChart2Opts = {\r\n        chart: {\r\n            id: 'realtime',\r\n            stacked: true,\r\n            events: {\r\n                selection: function (chart, e) {\r\n                    console.log(new Date(e.xaxis.min));\r\n                },\r\n            },\r\n        },\r\n        dataLabels: {\r\n            enabled: false,\r\n        },\r\n\r\n        stroke: {\r\n            width: 2,\r\n            curve: 'smooth',\r\n        },\r\n        fill: {\r\n            gradient: {\r\n                enabled: true,\r\n                opacityFrom: 0.6,\r\n                opacityTo: 0.8,\r\n            },\r\n        },\r\n        legend: {\r\n            position: 'bottom',\r\n            horizontalAlign: 'center',\r\n            itemMargin: {\r\n                horizontal: 12,\r\n                vertical: 5,\r\n            },\r\n        },\r\n        xaxis: {\r\n            type: 'text',\r\n        },\r\n\r\n        yaxis: {\r\n            labels: {\r\n                show: true,\r\n                formatter: (value) => {\r\n                    return value + '°C';\r\n                },\r\n            },\r\n        },\r\n        grid: {\r\n            row: {\r\n                colors: ['transparent', 'transparent'], // takes an array which will be repeated on columns\r\n                opacity: 0.2,\r\n            },\r\n            borderColor: '#f1f3fa',\r\n        },\r\n        responsive: [\r\n            {\r\n                breakpoint: 600,\r\n                options: {\r\n                    chart: {\r\n                        toolbar: {\r\n                            show: false,\r\n                        },\r\n                    },\r\n                },\r\n            },\r\n        ],\r\n    };\r\n\r\n    const areaData = useSelector(state => state.RoomData.areaData);\r\n    const data = () => {\r\n        if (areaData) {\r\n            if (areaData.length > 0)\r\n                return areaData[0].areas.map((areaT, index) => {\r\n                    return {\r\n                        name: areaT.name,\r\n                        data: areaData.map(data => ({\r\n                            x: timeToString(data.time),\r\n                            y: (data.areas[index].average) ? data.areas[index].average : data.areas[index].value\r\n                        })),\r\n                    }\r\n                })\r\n        }\r\n        return [];\r\n    }\r\n    const [crData, setCrData] = React.useState(data());\r\n    React.useEffect(() => {\r\n        setCrData(data());\r\n    }, [areaData])\r\n\r\n    return (\r\n        <Chart\r\n            options={apexAreaChart2Opts}\r\n            series={crData}\r\n            type=\"line\"\r\n            className=\"apex-charts\"\r\n            height={450}\r\n        />\r\n    );\r\n};\r\n\r\n\r\nexport default AreasChart;\r\n","import React, {\r\n    useState,\r\n    useEffect,\r\n    useRef\r\n} from 'react';\r\n\r\nclass hueBarHelper{\r\n    constructor(props){\r\n        this.eBar = this.createElement('div');\r\n        this.eMin = this.createElement('div',{\r\n            innerText: Math.round(props.min*100)/100 +' °C',\r\n            style: `float: left;`,\r\n        });\r\n        this.eBar.appendChild(this.eMin);\r\n\r\n        this.eMax = this.createElement('div',{\r\n            innerText: Math.round(props.max *100)/100 +' °C',\r\n            style: `float: right;`,\r\n        });\r\n        this.eBar.appendChild(this.eMax);\r\n\r\n        this.ePointer = this.createElement('div',{\r\n            innerHTML: Math.round((props.max+props.min)/2 *100)/100 +' °C',\r\n            style: `margin: auto; width: 5em;`,\r\n        });\r\n        this.eBar.appendChild(this.ePointer);\r\n\r\n        this.width = props.width + (isNaN(props.width)?'':'px');\r\n        this.height = props.height + (isNaN(props.height)?'':'px');\r\n        this.min = props.min;\r\n        this.max = props.max;\r\n        this.cell = [];\r\n        this.previousSelected = 0;\r\n    }\r\n    updateExtreme(min, max){\r\n        this.min = min;\r\n        this.max = max;\r\n        this.eMin.innerText = Math.round(min *100)/100 +' °C';\r\n        this.eMax.innerText = Math.round(max *100)/100 +' °C';\r\n    }\r\n    createElement(tagName, attribute = {}){\r\n        let e = document.createElement(tagName);\r\n        Object.assign(e, attribute);\r\n        return e;\r\n    }\r\n    makeTable(parent){\r\n        const tableBar = this.createElement('table',{\r\n            style: `border-spacing: 0;\r\n                width:${this.width};\r\n                height:${this.height};`\r\n        });\r\n        parent.appendChild(tableBar);\r\n        parent.appendChild(this.eBar);\r\n\r\n        const row = this.createElement('tr');\r\n        tableBar.appendChild(row);\r\n        this.cell = [];\r\n        for (let ii = 240; ii >= 0; ii--) {\r\n            let eCell = this.createElement('td',{\r\n                width: \"auto\",\r\n                height: \"100%\",\r\n                style: `padding: 0;\r\n                    background-color: ${this.hsl(ii)}`,\r\n                onclick: ()=> this.onCellClick(ii),\r\n            });\r\n            this.cell.unshift(eCell);\r\n            row.appendChild(eCell);\r\n        }\r\n    }\r\n    onCellClick(index){\r\n        //restore previous selected cell's color\r\n        let pre = this.previousSelected;\r\n        this.cell[pre].style.background = this.hsl(pre);\r\n\r\n        //make selected turn into black\r\n        let e = this.cell[index];\r\n        e.style.background = \"#000\";\r\n        this.previousSelected = index;\r\n\r\n        //update new temperature for middle label\r\n        this.ePointer.innerText = this.hue2temp(index) +' °C';\r\n    }\r\n    hue2temp(hue, min = this.min, max = this.max){\r\n        return (max - hue / 240 * (max - min)).toFixed(2);\r\n    }\r\n    hsl(hue, saturation = \"100%\", lightness = \"50%\"){\r\n        return `hsl(${hue},${saturation},${lightness})`;\r\n    }\r\n    temp2hue(temp, min = this.min, max = this.max){\r\n        return Math.trunc(240 - 240 * (temp - min) / (max - min));\r\n    }\r\n}\r\n\r\nconst HueBar = (props) => {\r\n    const [e, setElement] = useState(document.createElement('p'));\r\n    const helper = useRef(null);\r\n\r\n    useEffect(()=>{\r\n        helper.current = new hueBarHelper(props);\r\n        props.markCell.current = helper.current.onCellClick.bind(helper.current);\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        helper.current.updateExtreme(props.min, props.max);\r\n    }, [props.min, props.max])\r\n\r\n    useEffect(() => {\r\n        helper.current.makeTable(e);\r\n    }, [e]);\r\n\r\n    return (\r\n        <div ref = {e => setElement(e)}/>\r\n    );\r\n}\r\n\r\nHueBar.defaultProps = {\r\n    min: 0,\r\n    max: 7749,\r\n    width: \"100%\",\r\n    height: 10,\r\n    markCell: {\r\n        current: 0\r\n    }\r\n}\r\n\r\nexport default HueBar;","import Slider from 'rc-slider';\r\nimport React, { useState , useEffect} from 'react';\r\nimport Select from 'react-select';\r\nimport { InputGroup, Input, InputGroupAddon, InputGroupText } from 'reactstrap';\r\nimport 'rc-slider/assets/index.css';\r\nconst createSliderWithTooltip = Slider.createSliderWithTooltip;\r\nconst MySlider = createSliderWithTooltip(Slider);\r\nexport default function MySlice(props) {\r\n    const min = props.min ? props.min : 0;\r\n    const max = props.max ? props.max : 10;\r\n    const [value, setValue] = useState(min);\r\n    const [axis, setAxis] = useState({ value: 'x', label: 'Hướng X' });\r\n\r\n    const changeValue = (value) => {\r\n        props.onChangeValue && props.onChangeValue(value);\r\n        setValue(value);\r\n    };\r\n    const changeAxis = () => {\r\n        props.onChangeAxis && props.onChangeAxis(axis.value);\r\n    };\r\n\r\n    useEffect(()=>{\r\n        changeAxis();\r\n    }, [axis]);\r\n    \r\n    return (\r\n        <div className=\"mt-5 row\">\r\n            <Select\r\n                className=\"react-select bg-white col-6\"\r\n                classNamePrefix=\"react-select\"\r\n                value={axis}\r\n                options={[\r\n                    { value: 'x', label: 'Hướng X' },\r\n                    { value: 'y', label: 'Hướng Y' },\r\n                    { value: 'z', label: 'Hướng Z' },\r\n                ]}\r\n                onChange={(data) => {\r\n                    setAxis(data);\r\n                }}></Select>\r\n            <InputGroup className=\"col-6 mb-3\">\r\n                <InputGroupAddon addonType=\"prepend\">\r\n                    <InputGroupText>Lớp hiện tại </InputGroupText>\r\n                </InputGroupAddon>\r\n                <Input\r\n                    type=\"number\"\r\n                    value={value}\r\n                    onChange={(event) => {\r\n                        let num = event.target.value;\r\n                        let val = num >= min && num <= max ? num : num < min ? max : min;\r\n                        changeValue(val);\r\n                    }}\r\n                />\r\n            </InputGroup>\r\n            <div className=\"col-12\">\r\n                <MySlider\r\n                    min={min}\r\n                    max={max}\r\n                    value={value}\r\n                    onChange={(value) => {\r\n                        changeValue(value);\r\n                    }}></MySlider>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","// eslint-disable-next-line\r\nimport React from 'react';\r\nimport TChart from 'components/3DChart/3DChart.js'\r\nimport HueBar from 'components/HueBar.js'\r\nimport MySlice from 'components/MySlice.js';\r\n\r\nexport default function BoxChart(props) {\r\n    const [axis, setAxis] = React.useState('x');\r\n    const [slice,setSlice] = React.useState({\r\n        origin: null,\r\n        destination: null\r\n    });    \r\n  \r\n     return (props.config !=null && props.data != null) && (\r\n      <React.Fragment>\r\n        <TChart \r\n          config={props.config} \r\n          data={props.data} \r\n          slice={slice}\r\n        />\r\n        <div className=\"p-x-4\">\r\n          <HueBar \r\n            min={props.data.min} \r\n            max={props.data.max} \r\n            width={\"100%\"} \r\n            height={10}\r\n          />\r\n        </div>\r\n        <MySlice \r\n          max={0} \r\n          max={ props.config.size[axis]-1}\r\n          onChangeValue={(value)=> {\r\n              let vDes = {\r\n                  x: props.config.size.x,\r\n                  y: props.config.size.y,\r\n                  z: props.config.size.z\r\n              }\r\n              vDes[axis] = props.config.size[axis] - value;\r\n              setSlice({\r\n                  origin: null,\r\n                  destination: vDes\r\n              });\r\n          }}\r\n          onChangeAxis={(ax)=> {\r\n            setAxis(ax);\r\n          }}\r\n        />\r\n      </React.Fragment> \r\n    )\r\n}","import HueBar from 'components/HueBar';\r\nimport MySlice from 'components/MySlice';\r\nimport React, { useEffect, useState, useRef } from 'react'\r\n// import MySlice from 'components/MySlice.js'\r\n// import HueBar from 'components/HueBar.js'\r\nimport './matrix.css'\r\n\r\nclass Helper{\r\n    constructor(){\r\n        this.xRuler = document.createElement('p')\r\n        this.yRuler = document.createElement('p')\r\n    }\r\n    setProps(props){\r\n        this.data = props.data;\r\n        this.min = props.min;\r\n        this.max = props.max;\r\n        this.width = this.data[0].length;\r\n        this.height = this.data.length;\r\n        this.onClick = props.onClick;\r\n        this.config = props.config;\r\n    }\r\n    setAxis(axis){\r\n        this.axis = axis\r\n    }\r\n    createElement(tagName, attribute = {}){\r\n        let e = document.createElement(tagName);\r\n        Object.assign(e, attribute);\r\n        return e;\r\n    }\r\n    createEmptyElement(){\r\n        return this.createElement('p')\r\n    }\r\n    makeRow(rowNumber, container){\r\n        const { data: DATA, min: MIN, max: MAX, width: WIDTH} = this;\r\n\r\n        let row = this.createElement('tr');\r\n\r\n        for(let ix=0;ix<WIDTH;ix++){\r\n            let temp = DATA[rowNumber][ix];\r\n            let hue = (240 - 240 * (temp - MIN) / (MAX - MIN));\r\n            row.appendChild(\r\n                this.createElement('td', {\r\n                    onclick: () => this.onClick(ix,rowNumber,hue, temp),\r\n                    onmouseenter: () => this.onMouseEnter(ix,rowNumber),\r\n                    onmouseout: () => this.onMouseOut(ix,rowNumber),\r\n                    style: `background: hsl(${hue},100%,50%);`,\r\n                    className: \"cell\"\r\n                })\r\n            );\r\n        }\r\n        container.appendChild(row);\r\n    }\r\n    makeTable(container){\r\n        const table = this.createElement('table', {\r\n            className: 'text-center',\r\n        })\r\n\r\n        for(let iy=this.height-1;iy>=0;iy--){\r\n            this.makeRow(iy, table);\r\n        }\r\n\r\n        container.innerHTML = '';\r\n        container.appendChild(table);\r\n        container.appendChild(this.xRuler);\r\n        container.appendChild(this.yRuler);\r\n        this.xRuler.className = this.yRuler.className = \"label\";\r\n    }\r\n    onMouseEnter(x, y){\r\n        let router = {\r\n            x: {\r\n                f: \"y\",\r\n                s: \"z\"\r\n            },\r\n            y: {\r\n                f: \"z\",\r\n                s: \"x\"\r\n            },\r\n            z: {\r\n                f: \"y\",\r\n                s: \"x\"\r\n            }\r\n        }\r\n        this.xRuler.innerHTML = `<strong>${router[this.axis].s}</strong>: ` + x;\r\n        this.yRuler.innerHTML = `<strong>${router[this.axis].f}</strong>: ` + y;\r\n    }\r\n    onMouseOut(x, y){\r\n        delete [x, y];\r\n    }\r\n    handleRuler(container, event){\r\n        this.xRuler.style = this.yRuler.style = 'display;';\r\n        let fkRect = container.getBoundingClientRect();\r\n        let x = event.clientX-fkRect.left-this.xRuler.clientWidth/2;\r\n        let y = event.clientY-fkRect.top-this.yRuler.offsetHeight/2;\r\n        this.xRuler.style = `background: #afa;\r\n            left: ${x}px;\r\n            top: ${container.offsetHeight}px;`;\r\n        this.yRuler.style = `background: #faa;\r\n            left: ${container.offsetWidth}px;\r\n            top: ${y}px;`;\r\n    }\r\n    removeRuler(){\r\n        this.xRuler.style.display = this.yRuler.style.display = 'none';\r\n    }\r\n    initData(sz){\r\n        return { values: new Array(sz.x).fill(0).map(\r\n            e => new Array(sz.y).fill(0).map(\r\n                e => new Array(sz.z).fill(0).map(\r\n                    e => 0\r\n            ))),\r\n            min: 0,\r\n            max: 0\r\n        }\r\n    }\r\n}\r\n\r\nconst TwoDimensionalChart = (props) => {\r\n    const [container, setContainer] = useState(document.createElement('p'));\r\n    const helper = new Helper();\r\n\r\n    useEffect(()=>{\r\n        helper.setProps(props);\r\n        helper.setAxis(props.axis);\r\n        helper.makeTable(container);\r\n        let parent = container.parentElement || container;\r\n        let sm = (parent.offsetWidth<parent.offsetHeight)?parent.offsetWidth:parent.offsetHeight;\r\n        const {width: WIDTH, height: HEIGHT} = helper\r\n        Object.assign(container.style,{\r\n            width: `${sm/HEIGHT*WIDTH}px`,\r\n            height: `${sm}px`\r\n        });\r\n    },[container, props])\r\n\r\n    return(\r\n        <div\r\n            ref={\r\n                e=>setContainer(e)\r\n            }\r\n            className = \"matrixContainer\"\r\n            onMouseOver={(event) => helper.handleRuler(container, event)}\r\n            onMouseOut={()=>helper.removeRuler()}\r\n        />\r\n    )\r\n}\r\n\r\nTwoDimensionalChart.defaultProps = {\r\n    data: [[]], axis: 'x', min: 0, max: 0,\r\n    onClick: (x, y, hue, temp)=>{console.log(x, y, hue, temp)},\r\n}\r\n\r\nconst MatrixView = (props) =>{\r\n    const [dat, setData] = useState([[]]);\r\n    const [axis, setAxis] = useState('x');\r\n    const [sLv, setLevel] = useState(0);\r\n    const markCell = useRef(console.log);\r\n    const min = props.data.min;\r\n    const max = props.data.max;\r\n\r\n    const threeToTwo = (inp, config, axis, level) => {\r\n        let route = {\r\n            x:{\r\n                fast: 'y',\r\n                slow: 'z',\r\n                map: (a, i, f, s) => a[i][f][s]\r\n            },\r\n            y:{\r\n                fast: 'x',\r\n                slow: 'z',\r\n                map: (a, i, f, s) => a[f][i][s]\r\n            },\r\n            z:{\r\n                fast: 'x',\r\n                slow: 'y',\r\n                map: (a, i, f, s) => a[f][s][i]\r\n            }\r\n        }\r\n\r\n        let ret = [], flatRet = [], size = config.size;\r\n        let iFast = size[route[axis].fast];\r\n        let iSlow = size[route[axis].slow];\r\n        let iImmutable = size[axis]-level-1;\r\n        for (let s=0;s<iSlow;s++){\r\n            for(let f=0;f<iFast;f++){\r\n                flatRet.push(\r\n                    route[axis].map(inp,iImmutable,f,s)\r\n                );\r\n            }\r\n            ret.push(flatRet);\r\n            flatRet = [];\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    useEffect(()=>{\r\n        setData(threeToTwo(props.data.values, props.config, axis, sLv));\r\n    },[props, sLv])\r\n\r\n    return(\r\n        <React.Fragment>\r\n            <div style={{width:'inherit', height:300}}>\r\n                <TwoDimensionalChart data={dat} axis={axis} min={min} max={max} onClick={(x,y,h,t)=>{\r\n                    markCell.current(Math.trunc(h));}} />\r\n            </div>\r\n            <br/><br/>\r\n            <HueBar min={min} max={max} width=\"100%\" height={10} markCell={markCell}/>\r\n            <MySlice min={0} max={props.config.size[axis]-1}\r\n                onChangeValue={(v)=>setLevel(v)}\r\n                onChangeAxis={(ax)=>setAxis(ax)}\r\n            />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nMatrixView.defaultProps = {\r\n    data: {\r\n        values: [[[]]], min: 0, max: 0\r\n    },\r\n    config: {\r\n        size: {\r\n            x: 0, y: 0, z: 0\r\n        }\r\n    }\r\n}\r\n\r\nexport default MatrixView;","import Matrix from 'components/matrix/matrix.js';\r\nimport MySlice from 'components/MySlice';\r\nimport React from 'react';\r\n\r\nconst  MatrixChart = (props) =>{\r\n\r\n    return (props.data && props.config ) && \r\n    <React.Fragment>\r\n      <Matrix \r\n        data={props.data} \r\n        config={props.config}\r\n      />\r\n    </React.Fragment>\r\n}\r\nexport default MatrixChart;","import React, { useEffect, useState } from 'react';\r\nimport { Nav, NavItem, NavLink, TabContent, TabPane } from 'reactstrap';\r\nimport classnames from 'classnames';\r\nimport AreasChart from './AreasChart';\r\nimport BoxChart from './BoxChart';\r\nimport MatrixChart from './MatrixChart';\r\nimport { useSelector } from 'react-redux';\r\n\r\n\r\nconst TabsChart = (props) => {\r\n    const [activeTab,setActiveTab] = React.useState('3');\r\n    const toggle = (tab) => {\r\n        if (activeTab !== tab) {\r\n            setActiveTab(tab);\r\n        }\r\n    };\r\n    const tabContents = [\r\n        {\r\n            id: '1',\r\n            title: 'Khu vực',\r\n            disabled: false,\r\n        },\r\n        {\r\n            id: '2',\r\n            title: 'Mặt cắt 2D',\r\n            disabled: false,\r\n        },\r\n        {\r\n            id: '3',\r\n            title: 'Mô hình 3D',\r\n            disabled: false,\r\n        },\r\n    ]; \r\n\r\n    const [config,setConfig] = useState(null);\r\n    const [data,setData] = useState(null);\r\n    const currentRoomInfo = useSelector(state => state.RoomList.currentRoomInfo);\r\n    const cubeData = useSelector(state => state.RoomData.cubeData);\r\n    useEffect(()=>{\r\n        if(cubeData && cubeData.cubeData){\r\n            setData(cubeData.cubeData);\r\n        }else{\r\n            setData(null);\r\n        }\r\n    },[cubeData])\r\n    \r\n    useEffect(()=>{\r\n        if(currentRoomInfo){\r\n            const density = currentRoomInfo.sensorDensity;\r\n            const xBlock = currentRoomInfo.size.x / density -1;\r\n            const yBlock = currentRoomInfo.size.y / density -1;\r\n            const zBlock = currentRoomInfo.size.z / density -1;\r\n            setConfig({\r\n                \"size\": {\r\n                    \"x\": xBlock,\r\n                    \"y\": yBlock,\r\n                    \"z\": zBlock,\r\n                    \"tilesize\": 5\r\n                },\r\n                \"door\": currentRoomInfo.door,\r\n                \"axis-labels\": {\r\n                \"axis-x\": {\r\n                    \"show\": true,\r\n                    \"list\": []\r\n                },\r\n                \"axis-y\": {\r\n                    \"show\": false,\r\n                    \"list\": []\r\n                },\r\n                \"axis-z\": {\r\n                    \"show\": false,\r\n                    \"list\": []\r\n                }\r\n                }\r\n            });\r\n        }\r\n    },[currentRoomInfo])\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Nav className=\"nav nav-pills navtab-bg nav-justified\">\r\n                    {tabContents.map((tab, index) => {\r\n                        return (\r\n                            <NavItem key={index}>\r\n                                <NavLink\r\n                                    href=\"#\"\r\n                                    disabled={tab.disabled}\r\n                                    className={classnames({ active: activeTab === tab.id })}\r\n                                    onClick={() => {\r\n                                        toggle(tab.id);\r\n                                    }}>\r\n                                    <i className={classnames(tab.icon, 'd-sm-none', 'd-block', 'mr-1')}></i>\r\n                                    {tab.title}\r\n                                </NavLink>\r\n                            </NavItem>\r\n                        );\r\n                    })}\r\n                </Nav>\r\n                <TabContent activeTab={activeTab} className=\"mr-3 mt-4\">\r\n                    <TabPane tabId=\"1\">\r\n                        <AreasChart />\r\n                    </TabPane>\r\n                    <TabPane tabId=\"2\">\r\n                        <MatrixChart \r\n                            data={data} \r\n                            config={config} \r\n        \r\n                        />\r\n                    </TabPane>\r\n                    <TabPane tabId=\"3\">\r\n                        <BoxChart \r\n                            data={data} \r\n                            config={config} \r\n                        /> \r\n                    </TabPane>\r\n                </TabContent>\r\n            </React.Fragment>\r\n        );\r\n}\r\nexport default TabsChart;\r\n","import React from 'react';\r\nimport { Row, Col, Card, CardBody } from 'reactstrap';\r\nimport Select from 'react-select';\r\nimport TabsChart from './TabsChart';\r\n\r\nfunction Status(props) {\r\n    return (\r\n        <React.Fragment>\r\n            <Row className=\"page-title align-items-center\">\r\n            <Col xs={12}>\r\n                    <h4 className=\"mb-1 mt-0\">Giám sát kho lạnh</h4>\r\n            </ Col>\r\n            </Row>\r\n            <Row>\r\n                <Col xs={12}>\r\n                    <Card className=\"mb-5\">\r\n                        <CardBody>\r\n                            <TabsChart />\r\n                        </CardBody>\r\n                    </Card>\r\n                </Col>\r\n            </Row>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default Status;\r\n"],"sourceRoot":""}